# âš¡ Ù…Ø±Ø§Ø­Ù„ Ø³Ø±ÛŒØ¹ (Ú†Ú©â€ŒÙ„ÛŒØ³Øª)

Ø§ÛŒÙ† ÛŒÚ© Ú†Ú©â€ŒÙ„ÛŒØ³Øª Ø³Ø±ÛŒØ¹ Ø§Ø³Øª. Ø¨Ø±Ø§ÛŒ ØªÙˆØ¶ÛŒØ­Ø§Øª Ú©Ø§Ù…Ù„ØŒ ÙØ§ÛŒÙ„ `Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ_Ù†ØµØ¨_Ùˆ_Ø±Ø§Ù‡_Ø§Ù†Ø¯Ø§Ø²ÛŒ.md` Ø±Ø§ Ø¨Ø®ÙˆØ§Ù†.

---

## âœ… Ú†Ú©â€ŒÙ„ÛŒØ³Øª:

- [ ] **Ù…Ø±Ø­Ù„Ù‡ 1:** Ú¯Ø±ÙØªÙ† Google OAuth Credentials
  - [ ] Ø³Ø§Ø®Øª Ù¾Ø±ÙˆÚ˜Ù‡ Ø¯Ø± Google Cloud
  - [ ] ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Google Identity API
  - [ ] Ø³Ø§Ø®Øª OAuth Client ID
  - [ ] Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† redirect URI: `https://activelegend.ir/api/auth/callback/google`
  - [ ] Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù† Client ID Ùˆ Client Secret

- [ ] **Ù…Ø±Ø­Ù„Ù‡ 2:** Ù†ØµØ¨ Wrangler
  ```bash
  npm install -g wrangler
  ```

- [ ] **Ù…Ø±Ø­Ù„Ù‡ 3:** Ù„Ø§Ú¯ÛŒÙ† Ø¨Ù‡ Cloudflare
  ```bash
  wrangler login
  ```

- [ ] **Ù…Ø±Ø­Ù„Ù‡ 4:** Ø³Ø§Ø®Øª Ø¯ÛŒØªØ§Ø¨ÛŒØ³
  ```bash
  wrangler d1 create activelegend-db
  ```
  - [ ] Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù† database_id

- [ ] **Ù…Ø±Ø­Ù„Ù‡ 5:** Ø§Ø¬Ø±Ø§ÛŒ Migration
  ```bash
  wrangler d1 execute activelegend-db --file=workers/schema.sql
  ```

- [ ] **Ù…Ø±Ø­Ù„Ù‡ 6:** ØªÙ†Ø¸ÛŒÙ… Secrets
  ```bash
  wrangler secret put GOOGLE_CLIENT_ID
  wrangler secret put GOOGLE_CLIENT_SECRET
  wrangler secret put JWT_SECRET
  ```

- [ ] **Ù…Ø±Ø­Ù„Ù‡ 7:** Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ wrangler.toml
  - [ ] Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ø±Ø¯Ù† `YOUR_D1_DATABASE_ID` Ø¨Ø§ database_id ÙˆØ§Ù‚Ø¹ÛŒ

- [ ] **Ù…Ø±Ø­Ù„Ù‡ 8:** Deploy Worker
  ```bash
  wrangler deploy --env production
  ```

- [ ] **Ù…Ø±Ø­Ù„Ù‡ 9:** ØªÙ†Ø¸ÛŒÙ… Routes Ø¯Ø± Cloudflare Dashboard
  - [ ] Route: `activelegend.ir/api/auth/*`

- [ ] **Ù…Ø±Ø­Ù„Ù‡ 10:** Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ .env
  ```
  VITE_API_URL=https://activelegend.ir
  ```

- [ ] **Ù…Ø±Ø­Ù„Ù‡ 11:** ØªØ³Øª
  - [ ] Build Ùˆ Deploy Frontend
  - [ ] ØªØ³Øª Login Ø¨Ø§ Google

---

## ğŸ¯ Ø¯Ø³ØªÙˆØ±Ø§Øª ÛŒÚ©Ø¬Ø§:

```bash
# 1. Ù†ØµØ¨ Wrangler
npm install -g wrangler

# 2. Ù„Ø§Ú¯ÛŒÙ†
wrangler login

# 3. Ø³Ø§Ø®Øª Ø¯ÛŒØªØ§Ø¨ÛŒØ³
wrangler d1 create activelegend-db
# (database_id Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ù†)

# 4. Migration
wrangler d1 execute activelegend-db --file=workers/schema.sql

# 5. Secrets (ÛŒÚ©ÛŒ ÛŒÚ©ÛŒ Ø§Ø¬Ø±Ø§ Ú©Ù†)
wrangler secret put GOOGLE_CLIENT_ID
wrangler secret put GOOGLE_CLIENT_SECRET
wrangler secret put JWT_SECRET

# 6. Deploy
wrangler deploy --env production
```

---

**Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÛŒÙ† Ù…Ø±Ø§Ø­Ù„ØŒ Worker Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª! ğŸš€**
